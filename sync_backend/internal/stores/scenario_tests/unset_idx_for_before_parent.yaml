GIVEN:
  fadd: [f1, f2]
  fset:
    f1:
      id: f1
      parent: ""
      idx: O
    f2:
      id: f2
      parent: f1
      idx: O
WHEN:
  fadd: [f3]
  fset:
    f3:
      id: f3
      parent: f1
      idx: null
THEN:
  SNAPSHOT:
    fadd: [f1, f3, f2]
    fset:
      f1:
        id: f1
        parent: ""
        idx: O
      f2:
        id: f2
        parent: f1
        idx: O
      f3:
        id: f3
        parent: f1
        idx: 7)
