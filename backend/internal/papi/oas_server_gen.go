// Code generated by ogen, DO NOT EDIT.

package papi

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AuthAuthenticateBrowserPost implements POST /auth/authenticate-browser operation.
	//
	// This sets a cookie authenticating you as the given user. The cookie will only work on plantopo.com.
	//
	// POST /auth/authenticate-browser
	AuthAuthenticateBrowserPost(ctx context.Context, req *AuthenticateReq) (*AuthenticateBrowserOKHeaders, error)
	// AuthAuthenticatePost implements POST /auth/authenticate operation.
	//
	// Authenticate as a user (see /auth/authenticate-browser if you are the frontend).
	//
	// POST /auth/authenticate
	AuthAuthenticatePost(ctx context.Context, req *AuthenticateReq) (*AuthenticateOK, error)
	// AuthCheckPost implements POST /auth/check operation.
	//
	// Check if you are authenticated.
	//
	// POST /auth/check
	AuthCheckPost(ctx context.Context) (*AuthCheckPostOK, error)
	// AuthRegisterBrowserPost implements POST /auth/register-browser operation.
	//
	// Register a new account and store the token in the requesting browser's cookie jar.
	//
	// POST /auth/register-browser
	AuthRegisterBrowserPost(ctx context.Context, req *AuthRegisterRequest) (*AuthenticateBrowserOKHeaders, error)
	// AuthRegisterPost implements POST /auth/register operation.
	//
	// Register a new account.
	//
	// POST /auth/register
	AuthRegisterPost(ctx context.Context, req *AuthRegisterRequest) (*AuthenticateOK, error)
	// AuthRevokeBrowserPost implements POST /auth/revoke-browser operation.
	//
	// Revokes the cookie set by /auth/authenticate-browser.
	//
	// POST /auth/revoke-browser
	AuthRevokeBrowserPost(ctx context.Context) (*AuthRevokeBrowserPostOKHeaders, error)
	// AuthRevokePost implements POST /auth/revoke operation.
	//
	// Revoke a token.
	//
	// POST /auth/revoke
	AuthRevokePost(ctx context.Context, req *AuthRevokeReq) error
	// ElevationPost implements POST /elevation operation.
	//
	// Lookup elevations for a list of coordinates.
	//
	// POST /elevation
	ElevationPost(ctx context.Context, req *ElevationPostReq) (*ElevationPostOK, error)
	// GeophotosGet implements GET /geophotos operation.
	//
	// Get metadata by ID.
	//
	// GET /geophotos
	GeophotosGet(ctx context.Context, params GeophotosGetParams) (*GeophotosGetOK, error)
	// MunroAccessMunrosGet implements GET /munro-access/munros operation.
	//
	// List munros.
	//
	// GET /munro-access/munros
	MunroAccessMunrosGet(ctx context.Context) (*MunroAccessMunrosGetOK, error)
	// MunroAccessPregeneratedReportsGet implements GET /munro-access/pregenerated-reports operation.
	//
	// Get pregenerated reports for common locations.
	//
	// GET /munro-access/pregenerated-reports
	MunroAccessPregeneratedReportsGet(ctx context.Context) (*MunroAccessPregeneratedReportsGetOK, error)
	// MunroAccessReportIDGet implements GET /munro-access/report/{id} operation.
	//
	// Get a report.
	//
	// GET /munro-access/report/{id}
	MunroAccessReportIDGet(ctx context.Context, params MunroAccessReportIDGetParams) (*MunroAccessReportIDGetTemporaryRedirect, error)
	// MunroAccessReportIDStatusGet implements GET /munro-access/report/{id}/status operation.
	//
	// To subscribe to status updates use `new EventSource('/munro-access/report/{id}/status-updates')`.
	//
	// GET /munro-access/report/{id}/status
	MunroAccessReportIDStatusGet(ctx context.Context, params MunroAccessReportIDStatusGetParams) (*MunroAccessReportStatus, error)
	// MunroAccessRequestPost implements POST /munro-access/request operation.
	//
	// Request a report be generated.
	//
	// POST /munro-access/request
	MunroAccessRequestPost(ctx context.Context, req *MunroAccessRequestPostReq) (*MunroAccessRequestPostOK, error)
	// WeatherShortUkGet implements GET /weather/short-uk operation.
	//
	// Find short format weather forecasts for a place in the UK.
	//
	// GET /weather/short-uk
	WeatherShortUkGet(ctx context.Context, params WeatherShortUkGetParams) (WeatherShortUkGetOK, error)
	// NewError creates *DefaultErrorResponseStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *DefaultErrorResponseStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
